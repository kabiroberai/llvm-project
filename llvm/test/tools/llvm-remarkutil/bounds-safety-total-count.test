
RUN: llvm-remarkutil bounds-safety-count --parser=yaml %p/Inputs/bounds-safety-total-count.yaml | FileCheck %s
RUN: llvm-remarkutil yaml2bitstream %p/Inputs/bounds-safety-total-count.yaml | llvm-remarkutil bounds-safety-count --parser=bitstream | FileCheck %s
RUN: llvm-remarkutil bounds-safety-count --collect-per-source --parser=yaml %p/Inputs/bounds-safety-total-count.yaml | FileCheck --check-prefix=CHECKPERSRC %s
RUN: llvm-remarkutil yaml2bitstream %p/Inputs/bounds-safety-total-count.yaml | llvm-remarkutil bounds-safety-count --collect-per-source --parser=bitstream | FileCheck --check-prefix=CHECKPERSRC %s 
REQUIRES: apple-disclosure-ios

; CHECK-LABEL: Count
; CHECK: 6 

; CHECKPERSRC-LABEL: Source,Count
; CHECKPERSRC: path/to/anno.c,3
; CHECKPERSRC: path/to/anno2.c,3

