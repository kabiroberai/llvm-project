// NOTE: Assertions have been autogenerated by utils/update_cc_test_checks.py UTC_ARGS: --prefix-filecheck-ir-name TMP_

// RUN: %clang_cc1 -triple x86_64 -fbounds-safety -O2 -emit-llvm %s -o - | FileCheck %s --check-prefix=X86_64
#include <ptrcheck.h>

void f1(void *__sized_by(size) ptr, unsigned size);

// X86_64-LABEL: @f2(
// X86_64-NEXT:  entry:
// X86_64-NEXT:    tail call void @f1(ptr noundef nonnull inttoptr (i32 4096 to ptr), i32 noundef 10) #[[ATTR2:[0-9]+]]
// X86_64-NEXT:    ret void
//
void f2(void) {
  f1(__unsafe_forge_bidi_indexable(void *, 0x1000, 10), 10);
}
